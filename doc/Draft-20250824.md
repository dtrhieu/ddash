### üë• Typical Users

- **Drilling Engineers** ‚Äì monitor technical progress, input drilling data.
    
- **Operations Managers** ‚Äì oversee campaign progress, manage timelines and resources.
    
- **Logistics Coordinators** ‚Äì manage equipment movement and supplies.
    
- **Executives/Decision-makers** ‚Äì review high-level status and KPIs.
    

---

### üìä Dashboard ‚Äì Main Features

- **Campaign Overview Panel**
    
    - Current number of active drilling campaigns
        
    - Progress bar for each campaign (spud to completion)
        
    - Daily drilling rate (ROP), depth reached vs target
        
- **Rig Status Map**
    
    - Visual map of rig locations (live or planned)
        
    - Status: Drilling, Waiting, Moving, Maintenance, etc.
        
- **KPI Widgets**
    
    - Days ahead/behind schedule
        
    - Budget consumed vs approved
        
- **Upcoming Milestones**
    
    - List of next critical events (e.g., casing run, BOP test, rig move)
        
- **Alerts & Notifications**
    
    - Delays, equipment issues, or pending approvals
        

---

### ‚úÖ Task Management ‚Äì Main Features

- **Task Board (Kanban-style)**
    
    - Columns: Backlog, In Progress, Blocked, Completed
        
    - Filters by rig, campaign, user, priority, tag
        
- **Task Assignment**
    
    - Assign by team, role, or user
        
    - Due dates, priority levels, file attachments
        
- **Checklists & Subtasks**
    
    - Break down complex work orders (e.g., "Mobilize Mud Logging Unit")
        
- **Commenting & Activity Log**
    
    - Threaded discussions on each task
        
    - Timestamped history of changes
        
- **Calendar View**
    
    - Weekly/monthly view of task deadlines
        

---

### üìÇ Data to Show or Use

- **Campaign Metadata**
    
    - Name, ID, location, rig, start/end date, objectives
        
- **Daily Operations Data**
    
    - Depth, time, mud weight, casing set, formation encountered
        
- **Task Records**
    
    - Assigned users, statuses, dependencies
        
- **Equipment and Logistics**
    
    - Equipment availability, delivery ETA, consumables usage
        

---

### üöÄ MVP (Minimum Viable Product)

Essential features for a working tool:

- **Dashboard**
    
    - Basic campaign overview with progress bar
        
    - List of active rigs and current activity
        
    - KPI widget: % progress, days elapsed
        
- **Task Management**
    
    - Create/edit/delete tasks
        
    - Assign tasks with due dates
        
    - Status tracking (To Do, In Progress, Done)
        
    - Comments per task
        
- **User Roles**
    
    - Basic roles: Admin, Manager, Engineer (view/edit permissions)
        
- **Simple Campaign Detail Page**
    
    - Manual data entry for campaign name, rig, spud date, target depth
        

---

### ‚ú® Future Add-ons (Advanced Features)

- **Drilling Data Integration**
    
    - Import from WITSML or rig EDR for automated daily reports
        
- **Performance Analytics**
    
    - Breakdown of productive vs non-productive hours
        
- **Rig Move Protocol Generator**
    
    - Auto-fill forms like "Ready-to-Tow", "Move Permit", etc.
        
- **Mobile App**
    
    - For field engineers to update progress/tasks from rigs
        
- **Offline Mode + Sync**
    
    - Work offline and auto-sync when connected
        
- **Approval Workflow**
    
    - For drilling programs, service requests, task sign-off
        
- **Notifications & Reminders**
    
    - Slack/Email reminders, overdue task alerts

---

## üõ†Ô∏è MVP Implementation (2025-08-24)

A minimal, runnable API has been added in main.py using FastAPI with in-memory storage.

- AuthN/Z: Header-based roles via X-Role: Admin | Manager | Engineer
- Campaigns: CRUD with computed KPIs (progress_pct, days_elapsed)
- Tasks: CRUD with status (todo, in_progress, done), due_date, assigned_to, comments
- Dashboard: Aggregated campaign/rig status and KPIs
- Seed data: Two sample campaigns and two tasks for quick testing

### How to Run (Local)
1) Install dependencies (virtual env recommended):
   pip install -r requirements.txt

2) Start the API server (PowerShell):
   uvicorn main:app --reload
   # or
   python .\main.py

3) Open interactive docs:
   http://127.0.0.1:8000/docs

Note: Send an X-Role header with values Admin, Manager, or Engineer. Default is Engineer if omitted.

### API Endpoints
- GET / ‚Äî Basic API info and usage

Campaigns
- POST /campaigns (Admin, Manager)
  Body: { name, rig, spud_date (YYYY-MM-DD), target_depth (m), current_depth (m) }
- GET /campaigns (All) ‚Äî List campaigns with KPIs
- GET /campaigns/{id} (All) ‚Äî Campaign details with KPIs
- PATCH /campaigns/{id} (Admin, Manager)
- DELETE /campaigns/{id} (Admin)

Tasks
- POST /tasks (All) ‚Äî Create task; optional campaign_id
  Body: { title, description?, status?, due_date?, assigned_to?, campaign_id? }
- GET /tasks (All) ‚Äî Optional filters: campaign_id, status_filter
- GET /tasks/{id} (All)
- PATCH /tasks/{id} (All)
- DELETE /tasks/{id} (Admin, Manager)
- POST /tasks/{id}/comments (All) ‚Äî Body: { author, message }

Dashboard
- GET /dashboard (All) ‚Äî Returns date, campaigns_total, active_campaigns, rigs[], and kpis[]

### Role Model (MVP)
- Admin: Full access including deleting campaigns/tasks
- Manager: Create/update campaigns and tasks, delete tasks
- Engineer: Create/update tasks, read-only campaigns

### Example Requests (replace with your values)
- Create a campaign (Manager):
  curl -H "X-Role: Manager" -H "Content-Type: application/json" -d "{\"name\":\"Alpha-2\",\"rig\":\"Rig 12\",\"spud_date\":\"2025-08-24\",\"target_depth\":2200,\"current_depth\":300}" http://127.0.0.1:8000/campaigns

- List campaigns (any role):
  curl -H "X-Role: Engineer" http://127.0.0.1:8000/campaigns

- Create a task (Engineer):
  curl -H "X-Role: Engineer" -H "Content-Type: application/json" -d "{\"title\":\"BOP Test\",\"status\":\"in_progress\",\"campaign_id\":1}" http://127.0.0.1:8000/tasks

- Add a task comment (Engineer):
  curl -H "X-Role: Engineer" -H "Content-Type: application/json" -d "{\"author\":\"eng1\",\"message\":\"Starting test\"}" http://127.0.0.1:8000/tasks/1/comments
